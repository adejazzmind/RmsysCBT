@{
    ViewData["Title"] = "Add Question";
}

<div class="container py-5 max-w-md" style="max-width: 700px;">
    <div class="card border-0 shadow-sm rounded-4 overflow-hidden bg-white p-4 p-md-5">
        <h3 class="fw-bold text-primary mb-4"><i class="bi bi-patch-question me-2"></i>Add New Question</h3>

        <form asp-action="AddQuestion" method="post">
            <input type="hidden" name="testId" value="@ViewBag.TestId" />

            <div class="mb-4">
                <label class="form-label fw-medium text-dark">Question Text</label>
                <textarea name="questionText" class="form-control rounded-4 px-3 py-2" rows="3" required placeholder="e.g. What does HTML stand for?"></textarea>
            </div>

            <div class="mb-5">
                <label class="form-label fw-medium text-dark">Section / Category (Optional)</label>
                <input name="section" type="text" class="form-control rounded-pill px-3" value="General" placeholder="e.g. Basics, Advanced, Math..." />
            </div>

            <div class="p-4 bg-light rounded-4 mb-4 border">
                <h5 class="fw-bold text-dark mb-3">Options</h5>
                <p class="text-muted small mb-4"><i class="bi bi-info-circle me-1"></i> Fill in the options and click the radio button next to the <strong>correct</strong> answer.</p>

                @for (int i = 0; i < 4; i++)
                {
                    <div class="d-flex align-items-center mb-3">
                        <div class="form-check me-3 mb-0">
                            <input class="form-check-input border-secondary" style="width: 1.5rem; height: 1.5rem;" type="radio" name="correctOptionIndex" value="@i" @(i == 0 ? "checked" : "") required>
                        </div>
                        <input type="text" name="optionTexts[@i]" class="form-control rounded-pill px-3" placeholder="Option @(i + 1)" required />
                    </div>
                }
            </div>

            <div class="d-flex gap-2">
                <button type="submit" class="btn btn-success rounded-pill px-4 fw-bold shadow-sm">
                    <i class="bi bi-save me-1"></i> Save Question
                </button>
                <a asp-action="Manage" asp-route-id="@ViewBag.TestId" class="btn btn-outline-secondary rounded-pill px-4">Cancel</a>
            </div>
        </form>
    </div>
</div>